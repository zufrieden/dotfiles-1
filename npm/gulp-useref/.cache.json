{"_id":"gulp-useref","_rev":"21-53f7afdd7dd63f9d0a91446369e6cf50","name":"gulp-useref","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","dist-tags":{"latest":"0.4.2"},"versions":{"0.1.0":{"name":"gulp-useref","version":"0.1.0","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","license":"MIT","repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["gulpplugin","html","scripts","css","optimize"],"dependencies":{"event-stream":"~3.0.20","gulp-util":"~2.2.0","useref":"~0.0.1"},"devDependencies":{"mocha":"*"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.1.0","dist":{"shasum":"5b408e1cec607222598b7fd2921ed6faef148a1a","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.1.0.tgz"},"_from":".","_npmVersion":"1.3.23","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"directories":{}},"0.1.1":{"name":"gulp-useref","version":"0.1.1","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","license":"MIT","repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["gulpplugin","html","scripts","css","optimize"],"dependencies":{"map-stream":"~0.0.4","gulp-util":"~2.2.0","useref":"~0.0.1"},"devDependencies":{"mocha":"*","should":"*"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.1.1","dist":{"shasum":"53dd6b0d5ce97b76a37d441bf4dfc9fbb5ae2038","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.1.1.tgz"},"_from":".","_npmVersion":"1.3.23","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"directories":{}},"0.1.2":{"name":"gulp-useref","version":"0.1.2","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","license":"MIT","repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["gulpplugin","html","scripts","css","optimize"],"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"~0.1.0"},"devDependencies":{"mocha":"*","should":"*"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.1.2","dist":{"shasum":"5892ffd348c56a2d62f483ff37eb3e29974dbeb3","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.1.2.tgz"},"_from":".","_npmVersion":"1.3.23","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"directories":{}},"0.2.0":{"name":"gulp-useref","version":"0.2.0","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","license":"MIT","repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"~0.1.0"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"~0.4.1","gulp-util":"~2.2.14","gulp":"~3.5.1","gulp-jshint":"~1.3.4"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.2.0","dist":{"shasum":"baf2efb34a9c6be2b474ee456227e70d386a0f59","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.2.0.tgz"},"_from":".","_npmVersion":"1.3.25","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"directories":{}},"0.2.1":{"name":"gulp-useref","version":"0.2.1","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","license":"MIT","repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"~0.1.0"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"~0.4.1","gulp-util":"~2.2.14","gulp":"~3.5.1","gulp-jshint":"~1.3.4"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.2.1","dist":{"shasum":"f2d6b4fbd9ad4e7b8697b47ebe4e79876a44381b","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.2.1.tgz"},"_from":".","_npmVersion":"1.3.25","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"directories":{}},"0.2.2":{"name":"gulp-useref","version":"0.2.2","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"~0.1.0"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"~0.4.1","gulp-util":"~2.2.14","gulp":"~3.5.1","gulp-jshint":"~1.3.4"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.2.2","dist":{"shasum":"a5d7d950d9097697630a1950724c66a3aa158d2a","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.2.2.tgz"},"_from":".","_npmVersion":"1.3.25","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]},"0.3.0":{"name":"gulp-useref","version":"0.3.0","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"^0.2.0","glob":"^3.2.9"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"~0.4.1","gulp-util":"~2.2.14","gulp":"~3.5.1","gulp-jshint":"^1.5.0"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.3.0","dist":{"shasum":"c0e5742df8940b2321a953963a4099c629dc6aa7","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.3.0.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]},"0.3.1":{"name":"gulp-useref","version":"0.3.1","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"~0.4.0","gulp-util":"~2.2.0","useref":"^0.2.0","glob":"^3.2.9"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"~0.4.1","gulp-util":"~2.2.14","gulp":"~3.5.1","gulp-jshint":"^1.5.0"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.3.1","dist":{"shasum":"aed1a0cb4763b2d0f73d687a75d1ebc2a328423d","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.3.1.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]},"0.4.0":{"name":"gulp-useref","version":"0.4.0","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"^0.4.1","gulp-util":"^2.2.14","glob":"^3.2.9","useref":"^0.2.6"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"^0.4.1","gulp-util":"^2.2.14","gulp":"^3.6.0","gulp-jshint":"^1.5.0"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.4.0","dist":{"shasum":"2344eb35ce9b68b464d84f9dd32ba5ccab19cf04","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.4.0.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]},"0.4.1":{"name":"gulp-useref","version":"0.4.1","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"^0.4.1","gulp-util":"^2.2.14","glob":"^3.2.9","useref":"^0.2.6"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"^0.4.1","gulp-util":"^2.2.14","gulp":"^3.6.0","gulp-jshint":"^1.5.0"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.4.1","dist":{"shasum":"99e761e3a6fa3a758000b1a51ebbd21960d15a5f","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.4.1.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]},"0.4.2":{"name":"gulp-useref","version":"0.4.2","description":"Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.","main":"index.js","directories":{"test":"test"},"dependencies":{"through2":"^0.4.1","gulp-util":"^2.2.14","glob":"^3.2.9","node-useref":"^0.2.6"},"devDependencies":{"mocha":"*","should":"*","gulp-mocha":"^0.4.1","gulp-util":"^2.2.14","gulp":"^3.6.1","gulp-jshint":"^1.5.3"},"scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"keywords":["gulpplugin","html","scripts","css","optimize","concat"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"homepage":"https://github.com/jonkemp/gulp-useref","_id":"gulp-useref@0.4.2","dist":{"shasum":"a4be0268c5cc4476e87e4a4f3963e7673e2f7cad","tarball":"http://registry.npmjs.org/gulp-useref/-/gulp-useref-0.4.2.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}]}},"readme":"# [gulp](https://github.com/wearefractal/gulp)-useref [![Build Status](https://travis-ci.org/jonkemp/gulp-useref.png?branch=master)](https://travis-ci.org/jonkemp/gulp-useref)\r\n\r\n> Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets with [useref](https://github.com/digisfera/useref)\r\n\r\nInspired by the grunt plugin [grunt-useref](https://github.com/pajtai/grunt-useref). It can handle file concatenation but not minification. Files are then passed down the stream. For minification of assets or other modifications, use [gulp-filter](https://github.com/sindresorhus/gulp-filter) to filter specific types of assets.\r\n\r\n\r\n## Install\r\n\r\nInstall with [npm](https://npmjs.org/package/gulp-useref)\r\n\r\n```\r\nnpm install --save-dev gulp-useref\r\n```\r\n\r\n\r\n## Usage\r\n\r\nThe following example will parse the build blocks in the HTML, replace them and pass those files through. Assets inside the build blocks will be concatenated and passed through in a stream as well.\r\n\r\n```js\r\nvar gulp = require('gulp'),\r\n    useref = require('gulp-useref');\r\n\r\ngulp.task('default', function () {\r\n\treturn gulp.src('app/*.html')\r\n        .pipe(useref.assets())\r\n        .pipe(useref.restore())\r\n        .pipe(useref())\r\n        .pipe(gulp.dest('dist'));\r\n});\r\n```\r\n\r\nIf you want to minify your assets or perform some other modification, you can use [gulp-filter](https://github.com/sindresorhus/gulp-filter) to handle specific types of assets. When you want all the original files back, just call the restore method.\r\n\r\n```js\r\nvar gulp = require('gulp'),\r\n    useref = require('gulp-useref'),\r\n    filter = require('gulp-filter'),\r\n    uglify = require('gulp-uglify'),\r\n    minifyCss = require('gulp-minify-css');\r\n\r\ngulp.task('html', function () {\r\n    var jsFilter = filter('**/*.js');\r\n    var cssFilter = filter('**/*.css');\r\n\r\n    return gulp.src('app/*.html')\r\n        .pipe(useref.assets())\r\n        .pipe(jsFilter)\r\n        .pipe(uglify())\r\n        .pipe(jsFilter.restore())\r\n        .pipe(cssFilter)\r\n        .pipe(minifyCss())\r\n        .pipe(cssFilter.restore())\r\n        .pipe(useref.restore())\r\n        .pipe(useref())\r\n        .pipe(gulp.dest('dist'));\r\n});\r\n```\r\n\r\n\r\nBlocks are expressed as:\r\n\r\n```html\r\n<!-- build:<type>(alternate search path) <path> -->\r\n... HTML Markup, list of script / link tags.\r\n<!-- endbuild -->\r\n```\r\n\r\n- **type**: either `js` or `css`\r\n- **alternate search path**: (optional) By default the input files are relative to the treated file. Alternate search path allows one to change that\r\n- **path**: the file path of the optimized file, the target output\r\n\r\nAn example of this in completed form can be seen below:\r\n\r\n    <html>\r\n    <head>\r\n        <!-- build:css css/combined.css -->\r\n        <link href=\"css/one.css\" rel=\"stylesheet\">\r\n        <link href=\"css/two.css\" rel=\"stylesheet\">\r\n        <!-- endbuild -->\r\n    </head>\r\n    <body>\r\n        <!-- build:js scripts/combined.js -->\r\n        <script type=\"text/javascript\" src=\"scripts/one.js\"></script>\r\n        <script type=\"text/javascript\" src=\"scripts/two.js\"></script>\r\n        <!-- endbuild -->\r\n    </body>\r\n    </html>\r\n\r\n\r\nThe resulting HTML would be:\r\n\r\n    <html>\r\n    <head>\r\n        <link rel=\"stylesheet\" href=\"css/combined.css\"/>\r\n    </head>\r\n    <body>\r\n        <script src=\"scripts/combined.js\"></script>\r\n    </body>\r\n    </html>\r\n\r\n## API\r\n\r\n### useref.assets(options)\r\n\r\nReturns a stream with the concatenated asset files from the build blocks inside the HTML.\r\n\r\n#### options.searchPath\r\n\r\nType: `String` or `Array`  \r\nDefault: `none`  \r\n\r\nSpecify the location to search for asset files, relative to the current working directory. Can be a string or array of strings.\r\n\r\n### useref.restore()\r\n\r\nBrings back the previously filtered out HTML files.\r\n\r\n\r\n## Notes\r\n\r\n* [ClosureCompiler.js](https://github.com/dcodeIO/ClosureCompiler.js) doesn't support Buffers, which means if you want to use [gulp-closure-compiler](https://github.com/sindresorhus/gulp-closure-compiler) you'll have to first write out the `combined.js` to disk. See [this](https://github.com/dcodeIO/ClosureCompiler.js/issues/11) for more information.\r\n\r\n## Acknowledgments\r\n\r\n* Whitney Young ([@wbyoung](https://github.com/wbyoung)) for suggesting a separate stream for assets and the use of [gulp-filter](https://github.com/sindresorhus/gulp-filter) to filter assets.\r\n\r\n## License\r\n\r\nMIT © [Jonathan Kemp](http://jonkemp.com)\r\n","maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"time":{"modified":"2014-04-18T19:25:43.958Z","created":"2014-01-16T16:33:13.813Z","0.1.0":"2014-01-16T16:33:13.813Z","0.1.1":"2014-01-21T14:16:36.270Z","0.1.2":"2014-02-03T20:06:53.993Z","0.2.0":"2014-03-10T02:52:31.393Z","0.2.1":"2014-03-14T04:21:38.026Z","0.2.2":"2014-03-15T02:15:04.753Z","0.3.0":"2014-03-28T18:22:20.240Z","0.3.1":"2014-04-08T21:23:08.227Z","0.4.0":"2014-04-15T03:32:05.565Z","0.4.1":"2014-04-17T03:22:04.446Z","0.4.2":"2014-04-18T19:25:43.958Z"},"readmeFilename":"README.md","homepage":"https://github.com/jonkemp/gulp-useref","keywords":["gulpplugin","html","scripts","css","optimize","concat"],"repository":{"type":"git","url":"git://github.com/jonkemp/gulp-useref.git"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"bugs":{"url":"https://github.com/jonkemp/gulp-useref/issues"},"license":"MIT","users":{"shawnsandy":true},"_attachments":{},"_etag":"\"UWHBD8ZSTP6UYNJ27B3BOJIM\""}